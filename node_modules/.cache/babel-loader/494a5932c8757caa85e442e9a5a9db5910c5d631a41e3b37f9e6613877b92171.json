{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/shivr/Downloads/2/Shiv/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/shivr/Downloads/2/Shiv/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/shivr/Downloads/2/Shiv/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";import Back from\"../components/common/back/Back\";import\"./Login.css\";import Alert from\"../components/Alert/Alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var navigate=useNavigate();var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),department=_useState8[0],setDepartment=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),pic=_useState10[0],setPic=_useState10[1];// State for controlling the alert\nvar _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showAlert=_useState12[0],setShowAlert=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),alertMessage=_useState14[0],setAlertMessage=_useState14[1];function submit(_x){return _submit.apply(this,arguments);}// Functions to show/hide the alert\nfunction _submit(){_submit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"https://education-axcg.onrender.com/login\",{email:email,password:password,name:name,pic:pic,department:department});case 4:response=_context.sent;if(response.data===\"exist\"){// Redirect to /header with email state\nnavigate(\"/\");setAlertMessage(\"Logged in successfully!\");handleShowAlert();localStorage.setItem(\"userEmail\",email);}else if(response.data===\"not exist\"){setAlertMessage(\"User not found or incorrect password\");handleShowAlert();// navigate(\"/signup\"); // Remove this line if not needed\n}_context.next=13;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setAlertMessage(\"Wrong details\");handleShowAlert();console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return _submit.apply(this,arguments);}var handleShowAlert=function handleShowAlert(){setShowAlert(true);};var handleCloseAlert=function handleCloseAlert(){setShowAlert(false);};// Function to handle the \"Forgot Password\" link click\nvar handleForgotPassword=function handleForgotPassword(){navigate(\"/forgot\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"md:p-10 p-1  flex-col justify-center items-center flex  drop-shadow-2xl shadow-2xl shadow-black\",children:[/*#__PURE__*/_jsx(Back,{title:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-container bg-[#86e5dee4] justify-center items-center flex flex-col p-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"login-title my-10 text-[30px]\",children:\"Log In\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group flex flex-col\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"LoggingEmailAddress\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setEmail(e.target.value);},placeholder:\"Email\",id:\"LoggingEmailAddress\",className:\"login-input\",type:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"loggingPassword\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setPassword(e.target.value);},placeholder:\"Password\",id:\"loggingPassword\",className:\"login-input\",type:\"password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"submit-button\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",children:\"Submit\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-links \",children:[/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"login-link mr-10\",children:\"or sign up\"}),/*#__PURE__*/_jsx(\"div\",{onClick:handleForgotPassword,className:\"login-link cursor-pointer\",children:\"Forgot Password\"})]})]}),showAlert&&/*#__PURE__*/_jsx(Alert,{message:alertMessage,onClose:handleCloseAlert})]});};export default Login;","map":{"version":3,"names":["React","useState","Link","useNavigate","axios","Back","Alert","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","navigate","_useState5","_useState6","name","setName","_useState7","_useState8","department","setDepartment","_useState9","_useState10","pic","setPic","_useState11","_useState12","showAlert","setShowAlert","_useState13","_useState14","alertMessage","setAlertMessage","submit","_x","_submit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","wrap","_callee$","_context","prev","next","preventDefault","post","sent","data","handleShowAlert","localStorage","setItem","t0","console","error","stop","handleCloseAlert","handleForgotPassword","className","children","title","onSubmit","htmlFor","onChange","target","value","placeholder","id","type","to","onClick","message","onClose"],"sources":["C:/Users/shivr/Downloads/2/Shiv/src/Auth/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Back from \"../components/common/back/Back\";\r\nimport \"./Login.css\";\r\nimport Alert from \"../components/Alert/Alert\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const [name, setName] = useState(\"\");\r\n  const [department, setDepartment] = useState(\"\");\r\n  const [pic, setPic] = useState(\"\");\r\n\r\n  // State for controlling the alert\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  const [alertMessage, setAlertMessage] = useState(\"\");\r\n\r\n  async function submit(e) {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        \"https://education-axcg.onrender.com/login\",\r\n        {\r\n          email,\r\n          password,\r\n          name,\r\n          pic,\r\n          department,\r\n        }\r\n      );\r\n\r\n      if (response.data === \"exist\") {\r\n        // Redirect to /header with email state\r\n        navigate(\"/\");\r\n        setAlertMessage(\"Logged in successfully!\");\r\n        handleShowAlert();\r\n        localStorage.setItem(\"userEmail\", email);\r\n      } else if (response.data === \"not exist\") {\r\n        setAlertMessage(\"User not found or incorrect password\");\r\n        handleShowAlert();\r\n        // navigate(\"/signup\"); // Remove this line if not needed\r\n      }\r\n    } catch (error) {\r\n      setAlertMessage(\"Wrong details\");\r\n      handleShowAlert();\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  // Functions to show/hide the alert\r\n  const handleShowAlert = () => {\r\n    setShowAlert(true);\r\n  };\r\n\r\n  const handleCloseAlert = () => {\r\n    setShowAlert(false);\r\n  };\r\n\r\n  // Function to handle the \"Forgot Password\" link click\r\n  const handleForgotPassword = () => {\r\n    navigate(\"/forgot\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"md:p-10 p-1  flex-col justify-center items-center flex  drop-shadow-2xl shadow-2xl shadow-black\">\r\n      <Back title=\"Login\" />\r\n\r\n      <div className=\"login-container bg-[#86e5dee4] justify-center items-center flex flex-col p-5\">\r\n        <p className=\"login-title my-10 text-[30px]\">Log In</p>\r\n        <form onSubmit={submit}>\r\n          <div className=\"form-group flex flex-col\">\r\n            <label htmlFor=\"LoggingEmailAddress\">Email Address</label>\r\n            <input\r\n              onChange={(e) => {\r\n                setEmail(e.target.value);\r\n              }}\r\n              placeholder=\"Email\"\r\n              id=\"LoggingEmailAddress\"\r\n              className=\"login-input\"\r\n              type=\"email\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"loggingPassword\">Password</label>\r\n            <input\r\n              onChange={(e) => {\r\n                setPassword(e.target.value);\r\n              }}\r\n              placeholder=\"Password\"\r\n              id=\"loggingPassword\"\r\n              className=\"login-input\"\r\n              type=\"password\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"submit-button\">\r\n            <button type=\"submit\" className=\"login-button\">\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </form>\r\n        <div className=\"login-links \">\r\n          <Link to=\"/signup\" className=\"login-link mr-10\">\r\n            or sign up\r\n          </Link>\r\n          {/* Add a link/button for \"Forgot Password\" */}\r\n          <div\r\n            onClick={handleForgotPassword}\r\n            className=\"login-link cursor-pointer\"\r\n          >\r\n            Forgot Password\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Render the Alert component */}\r\n      {showAlert && <Alert message={alertMessage} onClose={handleCloseAlert} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}